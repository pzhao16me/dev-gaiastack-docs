##应用列表
应用列表是整个云实例平台的核心功能点，前面我们知道了如何把已经编写好的代码构建成为镜像，接下来就来看一下如何通过镜像生成应用，让业务跑起来。

###1.如何创建一个应用？

1.1 进入应用列表页面点击创建应用按钮；

1.2 选择需要部署的镜像，即业务代码；
当然你也可以在镜像仓库中选中相应的镜像，点击部署。
![](/assets/209.png)
1.3 填写部署信息，部署信息主要包含：部署对象、基本配置、配置管理、高级配置。

    *   部署配置: 即为所选镜像，可以点击更换；默认部署镜像的最新版本，您也可以切换为其他版本。
    ![](/assets/210.png)
    
    * 基本配置: 基本配置中除云硬盘外均为必填项，其中需注意：部署集群即为应用运行及资源消耗集群，集群资源不足会限制实例配置可选项及实例数量。
    ![](/assets/211.png)

      **说明:** 
      挂载云硬盘可以将应用运行结果数据保存，方便后续使用和数据共享；挂载云硬盘的应用只可包含一个实例，同一个应用可挂载多个云硬盘。应用与挂载的云硬盘需属于同一个集群下，不可跨集群挂载。
      
      勾选使用云硬盘后需选择要挂载的云硬盘，并填写挂载地址；因此需现在云硬盘页面中创建好可用的云硬盘。挂载地址是指云硬盘在应用上的位置路径，输入格式为路径格式。云硬盘挂载到应用上之后，只有应用结束方能对云硬盘进行操作或挂载至其他云硬盘。

    * 配置管理： 配置管理为非必填项，具有默认值可直接跳过不填。在应用部署时将配置导入到容器，支持环境变量和配置文件两种方式导入，同时支持无需停止服务状态下，对多个容器内配置文件进行在线更新。
     ![](/assets/22222222.png)
     
    *    高级配置: 高级配置为非必填项，具有默认值可直接跳过不填，如特殊需求可对高级配置进行修改。
     ![](/assets/212.png)
   
        * 启动命令。启动容器时将会运行的命令；指定启动命令后，镜像中指定的Entrypoint和Cmd将不再起作用。

       * 环境变量： 可根据所需增加或删减环境变量参数。如配置管理与高级配置环境变量冲突，则使用高级配置内用户手动填写的值。

       * 日志路径： 容器内用于存储日志的目录，该目录会被映射到主机的目录上，访问数据更快，且容器重启时，日志不受影响。

       * 数据路径： 容器内用于存储数据的目录，该目录会被映射到主机的目录上，访问数据更快，且容器重启时，数据不受影响。

       * 网络模式： 目前Gaia支持Overlay（虚拟网络）、Floating IP（浮动IP）、NAT（端口映射）、Host（宿主机网络）四种网络模式，可根据所需进行选择一种网络模式。

       * 自动扩缩容： 启动自动扩缩容，应用运行时可以根据各个实例的实际CPU使用率自动扩容、缩容。
    

 

###2.应用管理

应用创建完成之后可点击返回应用列表页面，在应用列表页面你可以看到应用的基本信息及运行状态，点击左侧的加号，可展开查看应用下的实例运行信息。

勾选应用可对应用进行，启动、停止、弹性伸缩、灰度升级、删除等操作。其中仅删除支持批量操作。

* 启动： 停止的应用可点击再次启动。

* 停止： 各状态中的应用均可以点击进行停止，停止的应用服务将不可用，同时不再消耗资源。

* 弹性伸缩： 当需要扩大或缩小业务规模时可选择弹性伸缩；当前GaiaStack平台生成的应用为微服务类型的应用，应用各实例配置完全一致，弹性伸缩即增加或随机减少实例个数。
*灰度升级： 可以选择将当前应用镜像版本升级为其他版本，GaiaStack截至V2.0.2版本暂不支持自定义灰度升级时间间隔，默认不同实例间升级无时间间隔，我们将在后续版本中支持灰度策略。

*  删除： 删除当前应用，资源将自动回收，删除后的应用不显示在应用列表，请谨慎操作。

![](/assets/208.png)

 

**说明：**默认应用列表展示用户加入的所有业务的、通过所有途径创建的应用，包含后续将讲到的通过编排创建的应用。您可以通过表格右上角的搜索和筛选条件对应用进行快速查找。

###3.应用详情

点击应用名称可进入应用详情页面，应用详情页面分为上下两部分。上部分主要展示应用的基本信息镜像版本、状态、归属等，以及应用操作；下部分则详细的展示了应用相关的配置信息、实例列表、资源监控、日志、操作记录。
![](/assets/21222.png)



* 应用详情中的操作与应用列表中的操作保持一直；

* 基本信息中的镜像版本和访问地址可分别点击前往详情页面；

* 概况： 主要内容为实例配置、挂载云硬盘信息以及高级配置信息，不支持修改；

* 实例： 展示了应用下的实例列表以及相关状态、镜像版本及IP信息，点击实例名称可进入实例详情页面；

* 监控： 目前包含了应用内存和CPU核使用趋势图[y2] ；

* 日志： 显示当前应用运行过程中的日志记录，至此按照关键词、主机、级别等查询；

* 操作记录： 即用户在前台针对当前应用的历史操作，及结果状态。

###4.实例详情

通过点击应用列表中展开应用下的实例名，或者应用详情中实例列表的实例名，可进入实例详情页面。
![](/assets/2122222.png)


实例详情页面与应用详情页面结构类似，GaiaStack平台主持创建的应用均为微服务类型的应用，应用下各实例无实质差别，因此指定实例进行无可操作项。实例详情页面主要用于展示实例的详情信息，其中管理台为一个内嵌Webshell，您可以在这里直接对实例进行操作，语法操作与Linux一致。


***
##5.配置管理
点击左侧导航应用管理->配置管理，可进入应用配置列表页面。
![](/assets/21222222.png)
应用配置组是一个应用的集合，可以是单个配置项，也可以是多个配置文件，帮助实现配置的统一管理，将image和配置内容解耦分离，在应用部署的时候可以将配置导入到容器中。应用配置列表默认展示用户配置的所有应用组，可根据右上角的搜索和筛选条件进行查询 。主要有以下操作：

 
*  创建配置组： 点击列表左上角创建配置组，在创建弹窗中填写相关信息；

* 配置组操作： 选中配置组，可进行添加配置项及删除操作，其中添加配置项需填写名称、业务、集群、内容四个必填项，填写完成进行创建 。创建完成后，可在列表查看配置项详情，查看配置项关联应用，并且可进行编辑、删除配置项操作。

 

 ***

